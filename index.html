<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WeatherMajor</title>
    <link rel="icon" type="image/png" href="icon.png">
    <style>
        body { margin: 0; font-family: Arial, sans-serif; display: flex; flex-direction: column; height: 100vh; }
        .taskbar { display: flex; align-items: center; background: #222; color: white; padding: 10px; display: none; }
        .tabs-container { flex-grow: 1; overflow-x: auto; white-space: nowrap; }
        .tabs { display: flex; flex-direction: row; }
        .tab { padding: 5px 10px; margin-right: 5px; cursor: pointer; background: #444; border-radius: 5px; display: inline-block; }
        .tab.active { background: #666; }
        .add-tab { cursor: pointer; background: green; color: white; padding: 5px 10px; border-radius: 5px; }
        .container, .main-content { display: none; flex-grow: 1; overflow-x: auto; position: relative; }
        .iframe-container { border: none; width: 100vw; height: 100vh; position: absolute; }
        .footer { text-align: center; padding: 10px; background: #222; color: white; display: none; }
        .login-box { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); padding: 20px; background: #333; color: white; border-radius: 10px; text-align: center; }
        input { display: block; margin: 10px auto; padding: 5px; }
        button { padding: 5px 10px; cursor: pointer; }
        .message { display: none; color: white; text-align: center; margin-top: 10px; }
    </style>
</head>
<body>
    <div class="login-box" id="authBox">
        <h2 id="authTitle">Login</h2>
        <input type="text" id="username" placeholder="Username">
        <input type="email" id="email" placeholder="Email" style="display: none;">
        <input type="password" id="password" placeholder="Password">
        <button onclick="handleAuth()">Submit</button>
        <p><a href="#" onclick="toggleAuthMode()" id="toggleAuth">Need an account? Register</a></p>
        <p class="message" id="authMessage"></p>
    </div>

    <div class="taskbar">
        <div class="tabs-container">
            <div class="tabs" id="tabs">
                <div class="tab active" id="main-tab">Main</div>
            </div>
        </div>
    </div>

    <div class="main-content">
        <iframe src="https://weather.im/iembot/" title="Weather IM"></iframe>
        <iframe src="https://battaglia.ddns.net/twc/" title="WeatherStar4000+"></iframe>
    </div>

    <div class="footer">UntitledManifoldGuy ©️ All rights Reserved</div>

    <script>
        let isRegistering = false;
        let users = {};
        
        function toggleAuthMode() {
            isRegistering = !isRegistering;
            document.getElementById("authTitle").innerText = isRegistering ? "Register" : "Login";
            document.getElementById("toggleAuth").innerText = isRegistering ? "Already have an account? Login" : "Need an account? Register";
            document.getElementById("email").style.display = isRegistering ? "block" : "none";
        }

        function handleAuth() {
            let username = document.getElementById("username").value;
            let email = document.getElementById("email").value;
            let password = document.getElementById("password").value;
            let messageBox = document.getElementById("authMessage");

            if (isRegistering) {
                if (users[username] || Object.values(users).includes(email)) {
                    messageBox.innerText = "Username or email already in use!";
                } else {
                    users[username] = { email, password };
                    messageBox.innerText = "Registered!";
                    setTimeout(loadMainContent, 2000);
                }
            } else {
                if (users[username] && users[username].password === password) {
                    messageBox.innerText = "Logged In";
                    setTimeout(loadMainContent, 2000);
                } else {
                    messageBox.innerText = "Invalid credentials!";
                }
            }
            messageBox.style.display = "block";
        }

        function loadMainContent() {
            document.getElementById("authBox").style.display = "none";
            document.querySelector(".taskbar").style.display = "flex";
            document.querySelector(".main-content").style.display = "flex";
            document.querySelector(".footer").style.display = "block";
        }
    </script>
</body>
</html>
